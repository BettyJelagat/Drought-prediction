<!DOCTYPE html>

<html >
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drought prediction</title>
<script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=n8001kR23ljLrCMFutbvmxrsIQkDSu6b-7VJt5U34MJcqwzTE6M5yp1UvFOQ7JH9FS5gLKMkJJBB_wjA__KyFuJu1fi4MCSMTxCqoYpW13QVMXsHJS3JHbctc1TlyMhjKco2YYI03_nrz43FRO0Tk2TtsrpAeb61PSApm67Jj0QC6AXOgE5Q9w0pbOQgSdb3wrDLU_2OOq5-w7ygrg4sNjCvsMfncRwvjN-t4dtcJivlkhrjGKWqC6f9rbau32vcz2plD29C-shJBmw811QASvuLQNcblbSgdbpXAV2BCPES5PDnZcdhjY6SPdofY7HTBd6kYINJvb6FhSDAvEEOEWpMFD3i6H7ofqkj_v2hHKhRtM9OEYFAxaMfjzF6r0sCZh7Xpy2rxJwlw5ikCD3PbADqxrxyhS5Qaap4vz163nvZDnc7WLRU72yZJk2Xn8NIxWepBspOuFE1RJJMwR0_Y2klWb7mAnJ_PG3tfmXqyGn6JQ0qD9YqSvbIKjxq5yrBYxQmXrucb45UOCwlonAJYc3A-ak5CyAA9V7z2r1hi8wCENr23KyPyiXlJW8uVm9BgrcRqiVp-Ju4DvLyddBezrqYyMqC2rFM_v1RxD9yx8AlevwnnTDJgdHGcnb8qHI436ofTzKD3FbaCyqZ1NtEpRFJ0AxC8QCnlHB5fZ4cfdoeRK4J5qTRzKrL1mRl79CJogriDXekEljB97PPk7_2utBbIJDdryeGs-T6o1l5N1J4f6LQdXJapsr2m5d5d0K_tqQK3vIM-BAY0Zts7Fo0Rftbshn4ZjovvCOTxih6ktZRQ5AaSumT3QgJVqpMBgzHgggaUTt-YifQrHExWOJMwW4IOOc5DwE_1r2ripbQwBnlRIf5mGzjRoLjlARoJNu6fRrxJU9P7Rw99NX3G1i3LFjZd3JnLVVNAoJYlyRJ6H0hqlxKVCPMWxY98AEwP3qZBbpvcnQFIF_iaGwUK7ruhydIZDH1QI7VabLAg_OY3cTKN1JTI65XSOYDAeYfGVpKEDzSt3If7VDzxN0azMQRm-X6eBDmNA3EeNtT3pvXgfy8rpEhF1lvsjc5Of15AuVbzGNmYpo7ZhR5TjAzMh1GvqkSqOesh3BFNRnAz_CnSy-kjXyorN7q3SW8SpIZU2wEpPRFS-tK1sXG4yscml6s3JZdbA3TggMQriiSGxDGYocCBUh65KVlcADBJvXG-ERRTYZ-QMkWAF4lYQn7kNlyOrDKlg0BvmRw_yqnBgxkPaC4-V0LNhhvTIvJUM8qQOhE_hCafcIfdHNtjo8IjOdN755Xz31EfIcZCDDs119mHvtyOSl0NKKXYLz0FLCInU_ePpihZL54npkecXv-D4cM8t2knUsiHN6Rz1TW3jPoOl3y38N2wipQB-dekrIrKZaW4lHsx8hb7hpXcvW8U2iqAs8cc5Qk7RzwcoXNO1zMQq-RC85vHxm9HjEXS9uABHh0QF5lutFH2KIr9jKQgJxlrcV1Z1OIBfV8MLYyAN4BMQpt-m_gvXxTAnt-hpxUwdw20QZULBmhx9F5sbLv0Y3liS-jEeQ8moA6l6XCSoJVDxEpijNU36_1THgxvvfq7eCASDC0T_Z1twQSllebi5QqHdVu2xIGI-SJYf6y42juetS3hhj_6Xy-N7NoM06iVs_9G0Fhwp9WPdm08tcE8WinFQ" nonce="4c56c8a55b2d753cf01ac0802700fede" charset="UTF-8"></script></head>
<body>
    <h2>Drought prediction</h2>
    <form id="predictionform">
        <div>
            <label>maximum temperature </label>
            <input type="number" name= "temp_max" step="0.1" required>
        </div>
        <div>
            <label>minimum temperature </label>
            <input type="number" name= "temp_min" step="0.1" required>
        </div>
        <div>
            <label>precipitation </label>
            <input type="number" name= "precip" step="0.1" required>
        </div>
        <div>
            <label>Humidity </label>
            <input type="number" name= "Humidity" step="0.1" required>
        </div>
        <div>
            <label>wind speed </label>
            <input type="number" name= "w_speed" step="0.1" required>
        </div>
        <div>
            <label>soil wetness </label>
            <input type="number" name= "s_wetness" step="0.1" required>
        </div>
        <button type="submit">predict drought occurence</button>

    </form>

    <div id ="result"> 
        <h3>predicted drought: <span id="prediction"></span> </h3>
        <h3>confidence: <span id="probability"></span></h3>

    </div>
    <script>
        document.getElementById('predictionform').addEventListener("submit", async(e) =>{
            e.preventDefault()

            const formData = new FormData(e.target);

            try{
                const response = await fetch('/predict', {
                    method: "POST",
                    body: FormData
            })
                const data = await response.json()
                if (data.error){
                    alert('Error: '+  data.error );
                    return;
                }
                document.getElementById('prediction').textContent = data.prediction
                document.getElementById('probability').textContent = data.probability
                document.getElementById('prediction').classList.remove('hidden')

            } catch(error){
                alert('Error:'+ error.message)
            }
        })

    </script>

    
</body>
</html>